---
title: "map"
author: "Shengzhi Luo"
date: "05/12/2021"
output: github_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(ggplot2)
library(ggmap)
library(maps)
library(mapdata)
library(leaflet)
library(httr)
library(plotly)
library(dplyr)
library(magrittr)
library(readr)
```

# Data loading

```{r}

crime_2017 =
   read.csv("./Data/Crimes_-_2017.csv") %>% 
   drop_na() %>% 
   janitor::clean_names() %>%
   filter(arrest=="true",domestic=="true")

```

```{r}

map2017 = crime_2017 %>%
leaflet() %>%
addProviderTiles(providers$Esri.WorldImagery, group = "World Imagery") %>%
addProviderTiles(providers$Stamen.TonerLite, group = "Toner Lite") %>%
addLayersControl(baseGroups = c("Toner Lite", "World Imagery")) %>%
addMarkers(clusterOptions = markerClusterOptions()) %>%
setView(-87.646918, 41.869871, zoom = 13)

map2017

```
